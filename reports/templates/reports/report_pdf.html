<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <title>Kompetensrapport</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", sans-serif; margin: 0; background: white; }
    .report-page { max-width: 794px; margin: 0 auto; padding: 24px; }
    table { width: 100%; border-collapse: collapse; margin-top: 12px; }
    th, td { border-bottom: 1px solid #e5e7eb; padding: 6px 4px; text-align: left; }
    th { font-weight: 700; color: #374151; }
    .pill { display:inline-block; padding: 2px 10px; border-radius: 999px; background:#eef2ff; color:#3730a3; font-size: 12px; }
    .message { margin: 10px 0 16px; }
  </style>
</head>
<body>
  <div class="report-page">
    <h1>Kompetensrapport</h1>
    {% include "reports/_report_content.html" %}
  </div>

  {% if competencies %}
  <script>
    const labels = {{ chart_labels|safe }};
    const values = {{ chart_values|safe }};

    const ctx = document.getElementById('competencyChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{ label: 'Kompetenspo√§ng', data: values }]
      },
      options: { responsive: true, animation: false, scales: { y: { beginAtZero: true, max: 5 } } }
    });
  </script>
  {% endif %}
</body>
</html>