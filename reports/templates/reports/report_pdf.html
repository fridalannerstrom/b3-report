{% load static %}
{% load report_extras %}
<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <title>Kompetensrapport</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="{% static 'reports/css/report.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="pdf">
  <div class="report-page">
    {% include "reports/_report_content.html" %}
  </div>

  {% if competencies %}
  <script>
    const labels = {{ chart_labels|safe }};
    const values = {{ chart_values|safe }};

    const ctx = document.getElementById('competencyChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: labels,
        datasets: [{ label: 'Kompetenspo√§ng', data: values }]
      },
      options: { responsive: true, animation: false, scales: { y: { beginAtZero: true, max: 5 } } }
    });
  </script>
  
  {% endif %}
</body>
</html>